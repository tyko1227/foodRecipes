document.addEventListener('DOMContentLoaded',function(){let _0x1e3b=["getElementById","video","video-placeholder","canvas","capture-btn","flip-camera-btn","camera-toggle-btn","results","loading-indicator","hidden","classList","remove","add","innerHTML","<i class=\"fas fa-pause mr-2\"></i>\uCE74\uBA54\uB77C \uC911\uC9C0","user","environment","mediaDevices","getUserMedia","srcObject","play","\uAC00\uC7A5\uC774 \uC811\uADFC \uAD8C\uD55C\uC774 \uD544\uC694\uD569\uB2C8\uB2E4.","appendChild","\uAC00\uC7A5\uC774\uC5B4\uC5D0\uC11C \uC0AC\uC6A9\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.","pause","<i class=\"fas fa-play mr-2\"></i>\uCE74\uBA54\uB77C \uC2DC\uC791","click","width","videoWidth","height","videoHeight","drawImage","toDataURL","image/jpeg",.8,"split","\uC74C\uC2DD \uC774\uB984: (.+)","AI\uAC00 \uBD84\uC11D\uD55C \uB808\uC2DC\uD53C \u2728","\uC77C\uBC18 \uC624\uB958","\uC5F0\uACB0\uC774 \uC9C4\uD589\uB418\uACE0 \uC788\uC2B5\uB2C8\uB2E4. \uB124\uD2B8\uC6CC\uD06C \uC0C1\uD0DC\uB97C \uD655\uC778\uD574\uC8FC\uC138\uC694.","text-red-500","youtube-search-btn","\uC5F0\uACB0\uC774 \uC9C4\uD589\uB418\uACE0 \uC788\uC2B5\uB2C8\uB2E4. \uB124\uD2B8\uC6CC\uD06C \uC0C1\uD0DC\uB97C \uD655\uC778\uD574\uC8FC\uC138\uC694.","_blank"];const v=document[_0x1e3b[0]](_0x1e3b[1]),vp=document[_0x1e3b[0]](_0x1e3b[2]),c=document[_0x1e3b[0]](_0x1e3b[3]),cb=document[_0x1e3b[0]](_0x1e3b[4]),fb=document[_0x1e3b[0]](_0x1e3b[5]),tb=document[_0x1e3b[0]](_0x1e3b[6]),rc=document[_0x1e3b[0]](_0x1e3b[7]),li=document[_0x1e3b[0]](_0x1e3b[8]);let cs,fc=!0,co=!1;const au="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=",ak="",rd=1e3,mr=5;async function ca(u,p,r=0){try{const res=await fetch(u+ak,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(429===res.status&&r<mr){const d=rd*Math.pow(2,r)+100*Math.random();console.warn("Rate limit exceeded. Retrying in "+d+"ms...");await new Promise(a=>setTimeout(a,d));return ca(u,p,r+1)}if(!res.ok)throw new Error("API error: "+res.status+" "+res.statusText);return await res.json()}catch(e){console.error("API call failed:",e);throw e}}async function ic(){cs&&cs.getTracks().forEach(t=>t.stop());const ct={video:{facingMode:fc?_0x1e3b[13]:_0x1e3b[14]}};try{const s=await navigator[_0x1e3b[15]][_0x1e3b[16]](ct);cs=s,v[_0x1e3b[17]]=s,v[_0x1e3b[18]](),v[_0x1e3b[10]][_0x1e3b[11]](_0x1e3b[9]),vp[_0x1e3b[10]][_0x1e3b[12]](_0x1e3b[9]),cb[_0x1e3b[10]][_0x1e3b[11]](_0x1e3b[9]),fb[_0x1e3b[10]][_0x1e3b[11]](_0x1e3b[9]),tb[_0x1e3b[13]]=_0x1e3b[14],co=!0}catch(e){console.error("Error accessing camera: ",e);const m=document.createElement("div");m.className="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center",m[_0x1e3b[13]]='<div class="bg-white p-6 rounded-lg text-center max-w-sm"><p class="text-gray-800 mb-4">'+_0x1e3b[19]+'</p><button onclick="this.parentElement.parentElement.remove()" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-full">\uD655\uC778</button></div>',document.body[_0x1e3b[20]](m),vp.textContent=_0x1e3b[21]}}function sc(){cs&&cs.getTracks().forEach(t=>t.stop()),v[_0x1e3b[22]](),v[_0x1e3b[17]]=null,v[_0x1e3b[10]][_0x1e3b[12]](_0x1e3b[9]),vp[_0x1e3b[10]][_0x1e3b[11]](_0x1e3b[9]),cb[_0x1e3b[10]][_0x1e3b[12]](_0x1e3b[9]),fb[_0x1e3b[10]][_0x1e3b[12]](_0x1e3b[9]),tb[_0x1e3b[13]]=_0x1e3b[23],co=!1}tb.addEventListener(_0x1e3b[24],function(){co?sc():ic()}),fb.addEventListener(_0x1e3b[24],function(){fc=!fc,ic()});function ri(i,mw=640,mh=640){const cn=document.createElement("canvas");let{width:w,height:h}=i;if(w>mw||h>mh){const s=Math.min(mw/w,mh/h);w=Math.round(w*s),h=Math.round(h*s)}return cn.width=w,cn.height=h,cn.getContext("2d")[_0x1e3b[25]](i,0,0,w,h),cn[_0x1e3b[26]](_0x1e3b[27],_0x1e3b[28])}cb.addEventListener(_0x1e3b[24],function(){if(!co)return;li[_0x1e3b[10]][_0x1e3b[11]](_0x1e3b[9]),rc.innerHTML="",rc[_0x1e3b[20]](li),c[_0x1e3b[29]]=v[_0x1e3b[30]],c[_0x1e3b[31]]=v[_0x1e3b[32]],c.getContext("2d")[_0x1e3b[25]](v,0,0),(()=>{const ti=new Image;ti.onload=function(){const rd=ri(ti);ai(rd)},ti.src=c[_0x1e3b[26]](_0x1e3b[27],.9)})()});async function ai(id){const b64=id[_0x1e3b[33]](",")[1],pr=_0x1e3b[34],p={contents:[{parts:[{text:pr},{inlineData:{mimeType:_0x1e3b[27],data:b64}}]}]};const tmo=new Promise((_,rej)=>setTimeout(()=>rej(new Error(_0x1e3b[59])),15000));try{const res=await Promise.race([ca(au,p),tmo]),fr=res?.[_0x1e3b[35]]?.[0]?.[_0x1e3b[36]]?.[_0x1e3b[37]]?.[0]?.[_0x1e3b[38]];if(fr){const fl=fr.split("\n")[0],fnm=fl.match(new RegExp(_0x1e3b[39])),fn=fnm?fnm[1].trim():"\uC74C\uC2DD";dr(fr,fn)}else li[_0x1e3b[10]][_0x1e3b[11]](_0x1e3b[9]),rc.innerHTML='<div class="'+_0x1e3b[40]+'">Gemini API\uC5D0\uC11C \uB808\uC2DC\uD53C\uB97C \uAC00\uC838\uC624\uC9C0 \uBABB\uD588\uC2B5\uB2C8\uB2E4.</div>'}catch(e){li[_0x1e3b[10]][_0x1e3b[11]](_0x1e3b[9]),rc.innerHTML='<div class="'+_0x1e3b[40]+'">'+(e.message||"Gemini API \uD638\uCD9C \uC911 \uC624\uB958 \uBC1C\uC0DD")+</div>'}}function dr(r,fn){li[_0x1e3b[10]][_0x1e3b[11]](_0x1e3b[9]);const cd=document.createElement("div");cd.className="result-card p-4 mb-4",cd[_0x1e3b[13]]=`<h3 class="text-xl font-semibold text-gray-800 mb-2">${_0x1e3b[41]}</h3><p class="text-gray-700 whitespace-pre-wrap mb-4">${r}</p><button id="${_0x1e3b[42]}" class="w-full bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 rounded-full shadow-lg transition-transform transform hover:scale-105 active:scale-95"><i class="fab fa-youtube mr-2"></i>\uC720\uD29C\uBE0C\uC5D0\uC11C ${fn} \uB808\uC2DC\uD53C \uAC80\uC0C9\uD558\uAE30</button>`,rc.appendChild(cd),document.getElementById(_0x1e3b[42]).addEventListener("click",()=>{const sq=fn+" \uB808\uC2DC\uD53C",yu="https://www.youtube.com/results?search_query="+encodeURIComponent(sq);window.open(yu,_0x1e3b[60])})}function fetchYouTube(){}function displayResults(){}function displayVideos(){}})